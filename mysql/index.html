<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    用户：<input type="text" name="username" id="username"><br />
    密码：<input type="text" name="password" id="password"><br />
    <input type="button" value="注册" id="reg">
    <input type="button" value="登录" id="login">
    <script>
        // 注册
        document.querySelector('#reg').addEventListener('click', async function () {
            const response = await fetch(
                `http://192.168.0.62:8081/reg?username=${document.querySelector('#username').value}&password=${document.querySelector('#password').value}`, {
                    method: 'GET',
                    mode: 'cors',
                }
            )
            const result = await response.json()
            console.log(result)
            alert(result.msg)
        })

        // 登录
        document.querySelector('#login').addEventListener('click', async function () {
            const response = await fetch(`http://192.168.0.62:8081/login`, {
                method: 'POST',
                mode: 'cors',
                body: JSON.stringify({
                    username: document.querySelector('#username').value,
                    password: document.querySelector('#password').value
                })
            })
            const result = await response.json()
            console.log(result)
            alert(result.msg)
        })
    </script>
</body>

</html>